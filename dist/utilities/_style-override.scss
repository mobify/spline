
// Style override
// ===
//
// Allows overriding extreme specificity without using `!important` and hides
// the complexity of doing so. Important:
//
// - Only use this on sites where lots of existing CSS is included.
// - Does not override !important or inline styles; those must be dealt with
//   separately.
//
// @param $degree [Number] The “force” of the override; effectively equivalent
//     to the number of id selectors you need to override.
//
//
// Usage
// ---
//
// @include style-override(4) {
//     color: red; // overrides equivalent of `#id #id #id #id { color: blue; }`
// }
//
//
// Markup
// ---
//
// **IMPORTANT** The <head> must have an id of `!`, so <head id="!">.

@mixin style-override($degree: 1) {
    // We apply id="!" to the <head> tag and repeatedly select on it to boost
    // the specificity of our selectors. The `!` must be escaped with a `\`.
    $id: '#\!';
    $id-chain: '';

    @for $i from 0 through $degree {
        $id-chain: $id-chain + $id;
    }

    #{$id-chain} ~ body {
        @content;
    }
}
